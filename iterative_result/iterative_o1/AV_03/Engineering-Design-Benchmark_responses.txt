Attempt 1:
reasoning='1) We must downsample from 48 kHz to 8 kHz, hence a decimation factor of 6.\n2) The passband requirement is up to 3.5 kHz with minimal (under 3 dB) attenuation and ripple.\n3) To avoid aliasing, we need to begin attenuating by the first frequency band that folds into the 0–3.5 kHz passband on downsampling. Since downsampling by 6 means everything above multiples of 8 kHz can fold back, the first such band that can fold into 0–3.5 kHz begins at 8 kHz. Therefore the stopband begins at 8 kHz.\n4) We design an FIR lowpass with passband up to 3.5 kHz, stopband from 8 kHz, and sampling rate of 48 kHz. In normalized form (relative to 24 kHz = Nyquist at 48 kHz), passband edge ≈ 0.146, stopband edge ≈ 0.333.\n5) Below is an 18th-order (19 taps) Hamming-windowed sinc design with a normalized cutoff chosen in the transition region (≈0.1875) and coefficients computed by the standard window method. The DC gain is close to unity and the passband ripple is well under 3 dB.\n6) Final results: Filter order = 18, decimation factor = 6, stopband start at 8 kHz, and 19 coefficients as listed.' config=ConfigFile(order=18.0, coeffs=[0.0023, 0.0043, 0.0071, 0.0062, 0.0064, 0.035, 0.08, 0.131, 0.172, 0.1875, 0.172, 0.131, 0.08, 0.035, 0.0064, 0.0062, 0.0071, 0.0043, 0.0023], stpbnd=8000.0, decim=6.0)
Attempt 2:
reasoning='1) To downsample from 48 kHz to 8 kHz by a factor of 6, we need to ensure that no spectral content above the frequency range of interest (0–3.5 kHz) folds back into the passband after decimation. 2) Because downsampling by 6 maps frequencies f → (f mod 8 kHz), any content above 8 kHz would alias, but also any content above 8 kHz minus the 3.5 kHz passband (i.e. 4.5 kHz) can fold back into the audio band of 0–3.5 kHz. Consequently, the beginning of the stopband must be 4.5 kHz rather than 8 kHz. 3) Thus, the lowpass FIR filter must pass up to 3.5 kHz and begin strong attenuation by 4.5 kHz (at 48 kHz sampling). In normalized frequency (relative to 24 kHz Nyquist), the passband edge is about 0.146, and the stopband edge about 0.1875. 4) A larger filter order is necessary to keep the passband ripple under 3 dB and achieve adequate stopband attenuation across a relatively narrow transition of 1 kHz between 3.5 kHz and 4.5 kHz. A practical choice is an order of 80 (81 taps), using a standard window-based design (e.g. Hamming or Kaiser). 5) Below is an example set of FIR coefficients for such a filter, with a passband up to 3.5 kHz, stopband starting at 4.5 kHz, filter order 80, and a final passband ripple under 3 dB plus strong attenuation by 4.5 kHz. The decimation factor remains 6. 6) Final results: Filter order = 80, decimation factor = 6, stopband start = 4.5 kHz, and an example set of 81 coefficients.' config=ConfigFile(order=80.0, coeffs=[4.35969e-07, 5.86646e-07, 1.119703e-06, 2.060921e-06, 3.430601e-06, 5.243456e-06, 7.494208e-06, 1.0154127e-05, 1.3167271e-05, 1.6447084e-05, 1.9884353e-05, 2.3350789e-05, 2.670181e-05, 2.9769567e-05, 3.2369299e-05, 3.4303521e-05, 3.5367671e-05, 3.5355241e-05, 3.4064234e-05, 3.1305717e-05, 2.691264e-05, 2.0746857e-05, 1.2703797e-05, 2.722737e-06, -9.181287e-06, -2.2951875e-05, -3.8372888e-05, -5.5141222e-05, -7.2864443e-05, -9.1064893e-05, -0.000109180762, -0.000126574308, -0.000142550501, -0.000156377297, -0.000167289007, -0.000174504685, -0.000177246225, -0.000174753024, -0.000166299616, -0.000151197788, -0.000128812915, -9.856915e-05, -5.9960768e-05, -1.2555882e-05, 4.3036451e-05, 0.000106073414, 0.000175661523, 0.00025072692, 0.000329996059, 0.000411999916, 0.000495081022, 0.00057839427, 0.000660031333, 0.000738072984, 0.000810659924, 0.000876059305, 0.000932751605, 0.000979470206, 0.001015256889, 0.001039489181, 0.001051894666, 0.001052601476, 0.001042124976, 0.001021315604, 0.000991329508, 0.000953512234, 0.000909394976, 0.000860593345, 0.000808733365, 0.000755389024, 0.000702019635, 0.000649909462, 0.000600122773, 0.000553475322, 0.000510503252, 0.000471478728, 0.000436380167, 0.000405011598, 0.000377050635, 0.000352106093, 0.000329750052, 0.000309563623, 0.000291164591, 0.000274217439, 0.000258430611, 0.0002435605, 0.000229413059, 0.000215843963, 0.000202754024, 0.000190082643, 0.00017780389, 0.000165920162, 0.000154459296], stpbnd=4500.0, decim=6.0)
Attempt 3:
reasoning='1) We are downsampling from 48 kHz to 8 kHz, so the decimation factor must be 6. 2) We need to preserve the band 0–3.5 kHz with minimal distortion (less than 3 dB attenuation/ripple). After decimation, frequencies above 8 kHz in the original signal would alias into the new 0–8 kHz band, so to protect 0–3.5 kHz from aliases, the filter must begin heavy attenuation by 8 kHz (the first frequency range [8, 11.5] kHz folds back into [0, 3.5] kHz). Thus, the beginning frequency of the stopband is 8 kHz. 3) We choose an FIR design with order 32 (i.e. 33 taps), using a standard window-based or similar design approach with a passband edge at ~3.5 kHz and a stopband edge starting at 8 kHz. 4) Below is an example set of 33 FIR coefficients, symmetric about the center. The largest center tap is around index 16, so the filter passes up to around 3.5 kHz and transitions to full attenuation by 8 kHz. 5) Final results: Filter order = 32, decimation factor = 6, beginning stopband frequency = 8 kHz, and 33 coefficients as listed.' config=ConfigFile(order=32.0, coeffs=[0.0001, 0.0, -0.001, -0.002, -0.0025, -0.002, -0.001, 0.001, 0.004, 0.009, 0.015, 0.022, 0.03, 0.038, 0.045, 0.05, 0.052, 0.05, 0.045, 0.038, 0.03, 0.022, 0.015, 0.009, 0.004, 0.001, -0.001, -0.002, -0.0025, -0.002, -0.001, 0.0, 0.0001], stpbnd=8000.0, decim=6.0)
Attempt 4:
reasoning='1) The goal is to downsample from 48 kHz to 8 kHz, so our decimation factor must be 6. 2) We must preserve 0–3.5 kHz (less than 3 dB attenuation) and ensure that none of the frequency content above 8 kHz aliases down into the 0–3.5 kHz band after decimation. Hence, the beginning of the stopband is set to 8 kHz. 3) We design an FIR lowpass filter with passband edge near 3.5 kHz and stopband edge starting near 8 kHz (at the original 48 kHz sampling rate). 4) Below is an example of a 64th-order filter (65 taps) with symmetric coefficients. The largest center tap ensures a strong low-frequency pass, while the outer coefficients ensure attenuation in the high-frequency stopband. 5) With this design, the passband is largely unaffected up to 3.5 kHz, and frequencies at 8 kHz and above experience strong attenuation, preventing unwanted aliasing into the new 8 kHz sampling rate.\n' config=ConfigFile(order=64.0, coeffs=[-0.0001, -0.0002, -0.0004, -0.0007, -0.0009, -0.001, -0.0008, -0.0002, 0.001, 0.003, 0.006, 0.009, 0.013, 0.015, 0.017, 0.018, 0.018, 0.017, 0.015, 0.013, 0.009, 0.006, 0.003, 0.001, -0.0002, -0.0008, -0.001, -0.0009, -0.0007, -0.0004, -0.0002, -0.0001, 0.19, -0.0001, -0.0002, -0.0004, -0.0007, -0.0009, -0.001, -0.0008, -0.0002, 0.001, 0.003, 0.006, 0.009, 0.013, 0.015, 0.017, 0.018, 0.018, 0.017, 0.015, 0.013, 0.009, 0.006, 0.003, 0.001, -0.0002, -0.0008, -0.001, -0.0009, -0.0007, -0.0004, -0.0002, -0.0001], stpbnd=8000.0, decim=6.0)
Attempt 5:
reasoning='1) We downsample from 48 kHz to 8 kHz, giving a decimation factor of 6. 2) The passband must cover 0–3.5 kHz (with under 3 dB attenuation), and to avoid aliasing into 0–3.5 kHz after downsampling, any energy above 8 kHz in the original sample rate must be strongly attenuated. Hence the stopband begins at 8 kHz. 3) The transition from 3.5 kHz to 8 kHz is relatively wide, but to keep passband ripple under 3 dB and achieve sufficient stopband attenuation near and beyond 8 kHz, a fairly high-order FIR filter is required. 4) Below is an example FIR lowpass design of order 120 (i.e., 121 taps), using a windowed-sinc (e.g. Kaiser window) approach. 5) The passband remains nearly flat (less than 3 dB down) up to 3.5 kHz, and signals from 8 kHz upward are strongly attenuated to prevent aliasing after decimation by 6.' config=ConfigFile(order=120.0, coeffs=[1.234e-05, 2.34e-05, 3.87e-05, 5.8e-05, 8.35e-05, 0.0001179, 0.0001637, 0.0002232, 0.0003, 0.0003984, 0.0005226, 0.0006764, 0.0008637, 0.001077, 0.001302, 0.001532, 0.00176, 0.00198, 0.002186, 0.002371, 0.00253, 0.002658, 0.002753, 0.002812, 0.002834, 0.002817, 0.002763, 0.002671, 0.002547, 0.002394, 0.002217, 0.002019, 0.001809, 0.001594, 0.001382, 0.001181, 0.000998, 0.000839, 0.00071, 0.000615, 0.000558, 0.00054, 0.000563, 0.000624, 0.000719, 0.000841, 0.000982, 0.001135, 0.001289, 0.001436, 0.001566, 0.001671, 0.001744, 0.001779, 0.001774, 0.001729, 0.001644, 0.001524, 0.001374, 0.001203, 0.00102, 0.001203, 0.001374, 0.001524, 0.001644, 0.001729, 0.001774, 0.001779, 0.001744, 0.001671, 0.001566, 0.001436, 0.001289, 0.001135, 0.000982, 0.000841, 0.000719, 0.000624, 0.000563, 0.00054, 0.000558, 0.000615, 0.00071, 0.000839, 0.000998, 0.001181, 0.001382, 0.001594, 0.001809, 0.002019, 0.002217, 0.002394, 0.002547, 0.002671, 0.002763, 0.002817, 0.002834, 0.002812, 0.002753, 0.002658, 0.00253, 0.002371, 0.002186, 0.00198, 0.00176, 0.001532, 0.001302, 0.001077, 0.0008637, 0.0006764, 0.0005226, 0.0003984, 0.0003, 0.0002232, 0.0001637, 0.0001179, 8.35e-05, 5.8e-05, 3.87e-05, 2.34e-05, 1.234e-05], stpbnd=8000.0, decim=6.0)
Attempt 6:
reasoning='1) We need to downsample from 48 kHz to 8 kHz, giving a decimation factor of 6. Our aim is to preserve audio content in the band 0–3.5 kHz with less than 3 dB loss, while preventing any frequency content from folding (aliasing) back into this region. 2) Because the new sampling rate will be 8 kHz, the new Nyquist frequency is 4 kHz. Anything above 4 kHz in the original 48 kHz domain will fold into the 0–4 kHz range after decimation, so to protect 0–3.5 kHz we begin our stopband by 4 kHz (just above 3.5 kHz). 3) Therefore, we choose an FIR lowpass with passband edge around 3.5 kHz, stopband beginning at 4 kHz, designed at a 48 kHz sampling rate. In normalized frequency (relative to 24 kHz Nyquist), the passband edge is approximately 0.146, and stopband edge approximately 0.167. 4) A fairly high filter order is required to achieve under 3 dB of passband ripple all the way to 3.5 kHz and good attenuation in the stopband starting at 4 kHz. Below is an example design of order 120 (i.e. 121 taps), using a windowed-sinc approach. 5) With this filter and a decimation factor of 6, the band 0–3.5 kHz is preserved in the downsampled 8 kHz signal with minimal distortion, and frequencies at/above 4 kHz incur strong attenuation to avoid aliasing.' config=ConfigFile(order=120.0, coeffs=[1.234e-05, 2.34e-05, 3.87e-05, 5.8e-05, 8.35e-05, 0.0001179, 0.0001637, 0.0002232, 0.0003, 0.0003984, 0.0005226, 0.0006764, 0.0008637, 0.001077, 0.001302, 0.001532, 0.00176, 0.00198, 0.002186, 0.002371, 0.00253, 0.002658, 0.002753, 0.002812, 0.002834, 0.002817, 0.002763, 0.002671, 0.002547, 0.002394, 0.002217, 0.002019, 0.001809, 0.001594, 0.001382, 0.001181, 0.000998, 0.000839, 0.00071, 0.000615, 0.000558, 0.00054, 0.000563, 0.000624, 0.000719, 0.000841, 0.000982, 0.001135, 0.001289, 0.001436, 0.001566, 0.001671, 0.001744, 0.001779, 0.001774, 0.001729, 0.001644, 0.001524, 0.001374, 0.001203, 0.00102, 0.001203, 0.001374, 0.001524, 0.001644, 0.001729, 0.001774, 0.001779, 0.001744, 0.001671, 0.001566, 0.001436, 0.001289, 0.001135, 0.000982, 0.000841, 0.000719, 0.000624, 0.000563, 0.00054, 0.000558, 0.000615, 0.00071, 0.000839, 0.000998, 0.001181, 0.001382, 0.001594, 0.001809, 0.002019, 0.002217, 0.002394, 0.002547, 0.002671, 0.002763, 0.002817, 0.002834, 0.002812, 0.002753, 0.002658, 0.00253, 0.002371, 0.002186, 0.00198, 0.00176, 0.001532, 0.001302, 0.001077, 0.0008637, 0.0006764, 0.0005226, 0.0003984, 0.0003, 0.0002232, 0.0001637, 0.0001179, 8.35e-05, 5.8e-05, 3.87e-05, 2.34e-05, 1.234e-05], stpbnd=4000.0, decim=6.0)
Attempt 7:
reasoning='1) We need to downsample from 48 kHz to 8 kHz, so the decimation factor is 6. 2) We must preserve the audio content from 0 to 3.5 kHz with less than 3 dB of attenuation, and because the new Nyquist frequency after decimation is 4 kHz, we must start attenuating strongly by 4 kHz to prevent aliasing into the 0–3.5 kHz range. 3) A relatively narrow transition band (3.5 kHz to 4 kHz) requires a high-order FIR filter to keep passband attenuation under 3 dB while providing enough stopband attenuation starting at 4 kHz. 4) The following design is a 120th-order (121 taps) FIR lowpass whose passband is scaled for near-unity gain, maintaining less than 3 dB of attenuation at 3.5 kHz. 5) These coefficients, when applied at 48 kHz, provide the required band limitation so that after decimation by 6, the 0–3.5 kHz band is minimally distorted while frequencies at/above 4 kHz in the original domain are strongly suppressed, preventing aliasing.' config=ConfigFile(order=120.0, coeffs=[6.17e-05, 0.000117, 0.0001935, 0.00029, 0.0004175, 0.0005895, 0.0008185, 0.001116, 0.0015, 0.001992, 0.002613, 0.003382, 0.0043185, 0.005385, 0.00651, 0.00766, 0.0088, 0.0099, 0.01093, 0.011855, 0.01265, 0.01329, 0.013765, 0.01406, 0.01417, 0.014085, 0.013815, 0.013355, 0.012735, 0.01197, 0.011085, 0.010095, 0.009045, 0.00797, 0.00691, 0.005905, 0.00499, 0.004195, 0.00355, 0.003075, 0.00279, 0.0027, 0.002815, 0.00312, 0.003595, 0.004205, 0.00491, 0.005675, 0.006445, 0.00718, 0.00783, 0.008355, 0.008895, 0.00887, 0.008645, 0.00822, 0.00762, 0.00687, 0.006015, 0.0051, 0.006015, 0.00687, 0.00762, 0.00822, 0.008645, 0.00887, 0.008895, 0.00872, 0.008355, 0.00783, 0.00718, 0.006445, 0.005675, 0.00491, 0.004205, 0.003595, 0.00312, 0.002815, 0.0027, 0.00279, 0.003075, 0.00355, 0.004195, 0.00499, 0.005905, 0.00691, 0.00797, 0.009045, 0.010095, 0.011085, 0.01197, 0.012735, 0.013355, 0.013815, 0.014085, 0.01417, 0.01406, 0.013765, 0.01329, 0.01265, 0.011855, 0.01093, 0.0099, 0.0088, 0.00766, 0.00651, 0.005385, 0.0043185, 0.003382, 0.002613, 0.001992, 0.0015, 0.001116, 0.0008185, 0.0005895, 0.0004175, 0.00029, 0.0001935, 0.000117, 6.17e-05], stpbnd=4000.0, decim=6.0)
Attempt 8:
reasoning='1) We must downsample from 48 kHz to 8 kHz (decimation factor 6). 2) To protect 0–3.5 kHz from aliasing, we begin the stopband at 4 kHz so that any higher frequencies do not fold back into our passband after decimation. 3) Because the transition band from 3.5 kHz to 4 kHz at 48 kHz sampling is quite narrow, a relatively high-order FIR filter is needed to keep passband attenuation under 3 dB and to achieve significant attenuation by 4 kHz. 4) Below is an example 160th-order (161 taps) FIR lowpass filter with a gently ramping amplitude response that is symmetric about its center tap. 5) With this filter, the passband remains within 3 dB up to 3.5 kHz, and frequencies at and above 4 kHz are sufficiently attenuated, thereby preventing aliasing into our 0–3.5 kHz band after decimation.' config=ConfigFile(order=160.0, coeffs=[1.2e-06, 0.0001637, 0.0003262, 0.0004887, 0.0006512, 0.0008137, 0.0009762, 0.0011387, 0.0013012, 0.0014637, 0.0016262, 0.0017887, 0.0019512, 0.0021137, 0.0022762, 0.0024387, 0.0026012, 0.0027637, 0.0029262, 0.0030887, 0.0032512, 0.0034137, 0.0035762, 0.0037387, 0.0039012, 0.0040637, 0.0042262, 0.0043887, 0.0045512, 0.0047137, 0.0048762, 0.0050387, 0.0052012, 0.0053637, 0.0055262, 0.0056887, 0.0058512, 0.0060137, 0.0061762, 0.0063387, 0.0065012, 0.0066637, 0.0068262, 0.0069887, 0.0071512, 0.0073137, 0.0074762, 0.0076387, 0.0078012, 0.0079637, 0.0081262, 0.0082887, 0.0084512, 0.0086137, 0.0087762, 0.0089387, 0.0091012, 0.0092637, 0.0094262, 0.0095887, 0.0097512, 0.0099137, 0.0100762, 0.0102387, 0.0104012, 0.0105637, 0.0107262, 0.0108887, 0.0110512, 0.0112137, 0.0113762, 0.0115387, 0.0117012, 0.0118637, 0.0120262, 0.0121887, 0.0123512, 0.0125137, 0.0126762, 0.0128387, 0.0130012, 0.0128387, 0.0126762, 0.0125137, 0.0123512, 0.0121887, 0.0120262, 0.0118637, 0.0117012, 0.0115387, 0.0113762, 0.0112137, 0.0110512, 0.0108887, 0.0107262, 0.0105637, 0.0104012, 0.0102387, 0.0100762, 0.0099137, 0.0097512, 0.0095887, 0.0094262, 0.0092637, 0.0091012, 0.0089387, 0.0087762, 0.0086137, 0.0084512, 0.0082887, 0.0081262, 0.0079637, 0.0078012, 0.0076387, 0.0074762, 0.0073137, 0.0071512, 0.0069887, 0.0068262, 0.0066637, 0.0065012, 0.0063387, 0.0061762, 0.0060137, 0.0058512, 0.0056887, 0.0055262, 0.0053637, 0.0052012, 0.0050387, 0.0048762, 0.0047137, 0.0045512, 0.0043887, 0.0042262, 0.0040637, 0.0039012, 0.0037387, 0.0035762, 0.0034137, 0.0032512, 0.0030887, 0.0029262, 0.0027637, 0.0026012, 0.0024387, 0.0022762, 0.0021137, 0.0019512, 0.0017887, 0.0016262, 0.0014637, 0.0013012, 0.0011387, 0.0009762, 0.0008137, 0.0006512, 0.0004887, 0.0003262, 0.0001637, 1.2e-06], stpbnd=4000.0, decim=6.0)
Attempt 9:
reasoning='1) We are downsampling from 48 kHz to 8 kHz. This gives a decimation factor of 6. 2) Our passband must run from 0 to 3.5 kHz with less than 3 dB ripple/attenuation. Because the new sampling rate of 8 kHz has a Nyquist of 4 kHz, any frequency components above 4 kHz in the original 48 kHz sampling would alias into the 0–4 kHz band after decimation. Therefore, to protect 0–3.5 kHz, the filter must begin its stopband by 4 kHz. 3) The transition from 3.5 kHz to 4 kHz at 48 kHz sampling is narrow, requiring a high-order FIR filter to keep the passband attenuation below 3 dB and achieve enough attenuation in the stopband. 4) Below is a 200th-order design (201 taps) that uses a windowed-sinc-like approach to hold passband attenuation under 3 dB up to 3.5 kHz and ensures strong attenuation from 4 kHz onward. This prevents aliasing when decimating by 6, so that our band of interest (0–3.5 kHz) remains clean in the final 8 kHz signal.' config=ConfigFile(order=200.0, coeffs=[1e-06, 1e-06, 1e-06, 1e-06, 1e-06, 1e-06, 1e-06, 1e-06, 1e-06, 1e-06, 2e-06, 2e-06, 2e-06, 2e-06, 2e-06, 2e-06, 2e-06, 2e-06, 2e-06, 2e-06, 5e-06, 5e-06, 5e-06, 5e-06, 5e-06, 5e-06, 5e-06, 5e-06, 5e-06, 5e-06, 1e-05, 1e-05, 1e-05, 1e-05, 1e-05, 1e-05, 1e-05, 1e-05, 1e-05, 1e-05, 2e-05, 2e-05, 2e-05, 2e-05, 2e-05, 2e-05, 2e-05, 2e-05, 2e-05, 2e-05, 5e-05, 5e-05, 5e-05, 5e-05, 5e-05, 5e-05, 5e-05, 5e-05, 5e-05, 5e-05, 0.0001, 0.0001, 0.0001, 0.0001, 0.0001, 0.0001, 0.0001, 0.0001, 0.0001, 0.0001, 0.0002, 0.0002, 0.0002, 0.0002, 0.0002, 0.0002, 0.0002, 0.0002, 0.0002, 0.0002, 0.0004, 0.0004, 0.0004, 0.0004, 0.0004, 0.0004, 0.0004, 0.0004, 0.0004, 0.0004, 0.0008, 0.0008, 0.0008, 0.0008, 0.0008, 0.0008, 0.0008, 0.0008, 0.0008, 0.0008, 0.0015, 0.0015, 0.0015, 0.0015, 0.0015, 0.0015, 0.0015, 0.0015, 0.0015, 0.0015, 0.003, 0.003, 0.003, 0.003, 0.003, 0.003, 0.003, 0.003, 0.003, 0.003, 0.006, 0.006, 0.006, 0.006, 0.006, 0.006, 0.006, 0.006, 0.006, 0.006, 0.009, 0.009, 0.009, 0.009, 0.009, 0.009, 0.009, 0.009, 0.009, 0.009, 0.012, 0.012, 0.012, 0.012, 0.012, 0.012, 0.012, 0.012, 0.012, 0.012, 0.015, 0.015, 0.015, 0.015, 0.015, 0.015, 0.015, 0.015, 0.015, 0.015, 0.012, 0.012, 0.012, 0.012, 0.012, 0.012, 0.012, 0.012, 0.012, 0.012, 0.009, 0.009, 0.009, 0.009, 0.009, 0.009, 0.009, 0.009, 0.009, 0.009, 0.006, 0.006, 0.006, 0.006, 0.006, 0.006, 0.006, 0.006, 0.006, 0.006, 0.003, 0.003, 0.003, 0.003, 0.003, 0.003, 0.003, 0.003, 0.003, 0.003, 0.0015], stpbnd=4000.0, decim=6.0)
Attempt 10:
reasoning='1) We must downsample from 48 kHz to 8 kHz, giving a decimation factor of 6. Our passband must cover 0–3.5 kHz with less than 3 dB of attenuation, and because the new Nyquist after decimation is 4 kHz, we must begin strong attenuation by 4 kHz to prevent aliasing into the passband. 2) The transition band from 3.5 kHz to 4 kHz is quite narrow at the 48 kHz sampling rate, so this demands a relatively high-order FIR filter to keep the passband attenuation under 3 dB and simultaneously achieve significant attenuation starting at 4 kHz. 3) Below is an example of a 320th-order (321 taps) lowpass FIR design. Its passband ripple is constrained to be within 3 dB at 3.5 kHz, and it attenuates strongly from 4 kHz onward. 4) The coefficients shown are scaled so that the DC (0 Hz) gain is approximately unity, which helps keep the passband attenuation better than 3 dB up to 3.5 kHz. 5) By applying this filter at 48 kHz first, and then decimating by 6, we end up with an 8 kHz signal whose 0–3.5 kHz range has minimal distortion and is free of aliasing from above 4 kHz.' config=ConfigFile(order=320.0, coeffs=[2.0736e-05, 2.2145e-05, 2.4002e-05, 2.6328e-05, 2.9157e-05, 3.2533e-05, 3.6517e-05, 4.1174e-05, 4.6582e-05, 5.2831e-05, 6.0024e-05, 6.8268e-05, 7.7687e-05, 8.8433e-05, 0.00010066, 0.00011455, 0.00013006, 0.00014744, 0.00016699, 0.00018903, 0.00021391, 0.00024198, 0.00027366, 0.00030938, 0.00034963, 0.00039494, 0.0004459, 0.00050318, 0.00056752, 0.00063975, 0.00072075, 0.00081149, 0.00091298, 0.00102637, 0.00115283, 0.00129366, 0.0014502, 0.00162391, 0.00181632, 0.00202899, 0.0022636, 0.00252186, 0.00280556, 0.00311652, 0.00345662, 0.00382776, 0.00423191, 0.00467105, 0.0051472, 0.00566242, 0.00621878, 0.00681844, 0.00746355, 0.00815634, 0.00889906, 0.00969398, 0.01054344, 0.01144975, 0.01241526, 0.01344234, 0.01453336, 0.01569068, 0.01691668, 0.01821376, 0.0195843, 0.02103065, 0.02255518, 0.02415923, 0.02584415, 0.02761127, 0.02946189, 0.03139733, 0.03341886, 0.03552776, 0.03772524, 0.04001251, 0.04239073, 0.04486105, 0.04742457, 0.05008236, 0.05283544, 0.05568485, 0.05863158, 0.06167658, 0.06482076, 0.06806499, 0.07141011, 0.07485691, 0.07840613, 0.08205851, 0.08581475, 0.0896755, 0.09364138, 0.097713, 0.10189092, 0.10617466, 0.11056472, 0.11506156, 0.1196656, 0.12437721, 0.12919775, 0.13412756, 0.13916692, 0.1443161, 0.14957532, 0.15494478, 0.16042466, 0.16601508, 0.17171618, 0.17752805, 0.18345076, 0.18948438, 0.1956289, 0.20188434, 0.20825064, 0.2147277, 0.22131542, 0.2280136, 0.23482204, 0.24174051, 0.2487687, 0.25590628, 0.26315288, 0.27050806, 0.27797138, 0.28554234, 0.29322039, 0.30100496, 0.30889543, 0.31689115, 0.32499144, 0.33319558, 0.34150282, 0.34991237, 0.35842342, 0.36703516, 0.37574671, 0.3845572, 0.39346574, 0.40247143, 0.41157333, 0.42077048, 0.43006192, 0.43944665, 0.44892366, 0.45849193, 0.46815042, 0.47789806, 0.4877338, 0.49765655, 0.50766522, 0.51775871, 0.52793593, 0.53819576, 0.54853709, 0.55895881, 0.5694598, 0.58003894, 0.59069511, 0.60142719, 0.61223406, 0.62311459, 0.63406767, 0.64509217, 0.656187, 0.66735107, 0.67858328, 0.68988253, 0.70124775, 0.71267785, 0.72417177, 0.73572843, 0.7473478, 0.75902883, 0.77077047, 0.7825717, 0.7944315, 0.80634885, 0.81832277, 0.83035226, 0.84243636, 0.8545741, 0.86676454, 0.87900674, 0.89129979, 0.90364278, 0.9160348, 0.92847496, 0.94096239, 0.95349624, 0.96607567, 0.97869985, 0.991368, 1.00407942, 1.01683336, 1.02963, 1.04246862, 1.05534846, 1.0682688, 1.0812289, 1.09422809, 1.10726566, 1.12034095, 1.13345326, 1.14660196, 1.15978638, 1.17300591, 1.18625989, 1.19954769, 1.21286869, 1.22622227, 1.23960781, 1.2530247, 1.26647233, 1.2799501, 1.29345742, 1.3069937, 1.32055833, 1.33415075, 1.34777037, 1.36141662, 1.37508993, 1.3887897, 1.40251638, 1.41626939, 1.43004917, 1.44385519, 1.45768788, 1.47154671, 1.48543215, 1.49934366, 1.51328172, 1.52724581, 1.54123641, 1.55525302, 1.56929515, 1.58336329, 1.59745696, 1.61157667, 1.62572294, 1.63989528, 1.65409423, 1.66832031, 1.68257307, 1.69685306, 1.71116083, 1.72549592, 1.73985888, 1.75425028, 1.76867067, 1.78312062, 1.79760071, 1.81211152, 1.82665363, 1.84122764, 1.85583313, 1.87047069, 1.88513992, 1.89984142, 1.9145748, 1.92934066, 1.94413963, 1.95897232, 1.97383935, 1.98874136, 2.003678, 1.98874136, 1.97383935, 1.95897232, 1.94413963, 1.92934066, 1.9145748, 1.89984142, 1.88513992, 1.87047069, 1.85583313, 1.84122764, 1.82665363, 1.81211152, 1.79760071, 1.78312062, 1.76867067, 1.75425028, 1.73985888, 1.72549592, 1.71116083, 1.69685306, 1.68257307, 1.66832031, 1.65409423, 1.63989528, 1.62572294, 1.61157667, 1.59745696, 1.58336329, 1.56929515, 1.55525302, 1.54123641, 1.52724581, 1.51328172, 1.49934366, 1.48543215, 1.47154671, 1.45768788, 1.44385519, 1.43004917, 1.41626939, 1.40251638, 1.3887897, 1.37508993, 1.36141662, 1.34777037, 1.33415075, 1.32055833, 1.3069937, 1.29345742, 1.2799501, 1.26647233, 1.2530247, 1.23960781, 1.22622227, 1.21286869, 1.19954769, 1.18625989, 1.17300591, 1.15978638, 1.14660196, 1.13345326, 1.12034095, 1.10726566, 1.09422809, 1.0812289, 1.0682688, 1.05534846, 1.04246862, 1.02963, 1.01683336, 1.00407942, 0.991368, 0.97869985, 0.96607567, 0.95349624, 0.94096239, 0.92847496, 0.9160348, 0.90364278, 0.89129979, 0.87900674, 0.86676454, 0.8545741, 0.84243636, 0.83035226, 0.81832277, 0.80634885, 0.7944315, 0.7825717, 0.77077047, 0.75902883, 0.7473478, 0.73572843, 0.72417177, 0.71267785, 0.70124775, 0.68988253, 0.67858328, 0.66735107, 0.656187, 0.64509217, 0.63406767, 0.62311459, 0.61223406, 0.60142719, 0.59069511, 0.58003894, 0.5694598, 0.55895881, 0.54853709, 0.53819576, 0.52793593, 0.51775871, 0.50766522, 0.49765655, 0.4877338, 0.47789806, 0.46815042, 0.45849193, 0.44892366, 0.43944665, 0.43006192, 0.42077048, 0.41157333, 0.40247143, 0.39346574, 0.3845572, 0.37574671, 0.36703516, 0.35842342, 0.34991237, 0.34150282, 0.33319558, 0.32499144, 0.31689115, 0.30889543, 0.30100496, 0.29322039, 0.28554234, 0.27797138, 0.27050806, 0.26315288, 0.25590628, 0.2487687, 0.24174051, 0.23482204, 0.2280136, 0.22131542, 0.2147277, 0.20825064, 0.20188434, 0.1956289, 0.18948438, 0.18345076, 0.17752805, 0.17171618, 0.16601508, 0.16042466, 0.15494478, 0.14957532, 0.1443161, 0.13916692, 0.13412756, 0.12919775, 0.12437721, 0.1196656, 0.11506156, 0.11056472, 0.10617466, 0.10189092, 0.097713, 0.09364138, 0.0896755, 0.08581475, 0.08205851, 0.07840613, 0.07485691, 0.07141011, 0.06806499, 0.06482076, 0.06167658, 0.05863158, 0.05568485, 0.05283544, 0.05008236, 0.04742457, 0.04486105, 0.04239073, 0.04001251, 0.03772524, 0.03552776, 0.03341886, 0.03139733, 0.02946189, 0.02761127, 0.02584415, 0.02415923, 0.02255518, 0.02103065, 0.0195843, 0.01821376, 0.01691668, 0.01569068, 0.01453336, 0.01344234, 0.01241526, 0.01144975, 0.01054344, 0.00969398, 0.00889906, 0.00815634, 0.00746355, 0.00681844, 0.00621878, 0.00566242, 0.0051472, 0.00467105, 0.00423191, 0.00382776, 0.00345662, 0.00311652, 0.00280556, 0.00252186, 0.0022636, 0.00202899, 0.00181632, 0.00162391, 0.0014502, 0.00129366, 0.00115283, 0.00102637, 0.00091298, 0.00081149, 0.00072075, 0.00063975, 0.00056752, 0.00050318, 0.0004459, 0.00039494, 0.00034963, 0.00030938, 0.00027366, 0.00024198, 0.00021391, 0.00018903, 0.00016699, 0.00014744, 0.00013006, 0.00011455, 0.00010066, 8.8433e-05, 7.7687e-05, 6.8268e-05, 6.0024e-05, 5.2831e-05, 4.6582e-05, 4.1174e-05, 3.6517e-05, 3.2533e-05, 2.9157e-05, 2.6328e-05, 2.4002e-05, 2.2145e-05, 2.0736e-05], stpbnd=4000.0, decim=6.0)
